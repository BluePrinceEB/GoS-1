SpellData = {

	-- Ahri
	AhriOrbofDeception = {Name = "Ahri", Range = 880, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 1.17, Delay = 300},
	AhriSeduce = {Name = "Ahri", Range = 975, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 1.2, Delay = 300},

	-- Amumu
	BandageToss = {Name = "Amumu", Range = 1100, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 2, Delay = 300},

	-- Anivia
	FlashFrostSpell = {Name = "Anivia", Range = 1100, spellType = 1, Radius = 90, Duration = 2000, ProjectileSpeed = 0.845, Delay = 300},
	GlacialStorm = {Name = "Anivia", Range = 625, spellType = 3, Radius = 300, Duration = 4000},

	-- Ashe
	EnchantedCrystalArrow = {Name = "Ashe", Range = 50000, spellType = 1, Radius = 120, Duration = 4000},

	-- Blitzcrank
	RocketGrabMissile = {Name = "Blitzcrank", Range = 925, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 1.7, Delay = 300},
				
	-- Brand
	BrandBlazeMissile = {Name = "Brand", Range = 1050, spellType = 1, Radius = 50, Duration = 1000},
	BrandFissure = {Name = "Brand", Range = 900, spellType = 3, Radius = 250, Duration = 1000},

	-- Caitlyn
	CaitlynPiltoverPeacemaker = {Name = "Caitlyn", Range = 1300, spellType = 1, Radius = 80, Duration = 1000},
	CaitlynEntrapmentMissile = {Name = "Caitlyn", Range = 1000, spellType = 1, Radius = 50, Duration = 1000},

	-- Cassiopeia
	CassiopeiaNoxiousBlast = {Name = "Cassiopeia", Range = 850, spellType = 3, Radius = 75, Duration = 1000},
	CassiopeiaMiasma = {Name = "Cassiopeia", Range = 850, spellType = 3, Radius = 175, Duration = 1000},
	CassiopeiaPetrifyingGaze = {Name = "Cassiopeia", Range = 850, spellType = 6, Radius = 300, Duration = 1000},

	-- Cho'Gath
	Rupture = {Name = "Chogath", Range = 950, spellType = 3, Radius = 275, Duration = 1500},

	-- Corki
	PhosphorusBomb = {Name = "Corki", Range = 650, spellType = 3, Radius = 150, Duration = 1000},
	MissileBarrageMissile = {Name = "Corki", Range = 1225, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 2.0, Delay = 300,  spammable = true},
	MissileBarrageMissile2 = {Name = "Corki", Range = 1225, spellType = 1, Radius = 100, Duration = 1000, ProjectileSpeed = 2.0, Delay = 300,  spammable = true},
	CarpetBomb = {Name = "Corki", Range = 800, spellType = 2, Radius = 150, Duration = 1000},

	-- Diana
	DianaArc = {Name = "Diana", Range = 900, spellType = 3, Radius = 205, Duration = 1000},

	-- Draven
	DravenDoubleShot = {Name = "Draven", Range = 1050, spellType = 1, Radius = 125, Duration = 1000},
	DravenRCast = {Name = "Draven", Range = 20000, spellType = 1, Radius = 100, Duration = 6000},

	-- DrMundo
	InfectedCleaver = {Name = "DrMundo", Range = 1000, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 2, Delay = 300,  spammable = true},
	InfectedCleaverMissile = {Name = "DrMundo", Range = 1000, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 2, Delay = 300,  spammable = true},

	-- Ezreal
	EzrealMysticShotMissile = {Name = "Ezreal", Range = 1200, spellType = 1, Radius = 50, Delay = 250, ProjectileSpeed = 1975, Duration = 1000,  spammable = true},
	EzrealEssenceFluxMissile = {Name = "Ezreal", Range = 900, spellType = 1, Radius = 100, Duration = 1000, ProjectileSpeed = 1.5, Delay = 300,  spammable = true},
	EzrealTrueshotBarrage = {Name = "Ezreal", Range = 50000, spellType = 4, Radius = 150, Duration = 4000, ProjectileSpeed = 0, Delay = 1000, spellKey = _R},
	EzrealArcaneShift = {Name = "Ezreal", Range = 475, spellType = 5, Radius = 100, Duration = 1000,  spammable = true},

	--Fizz
	FizzMarinerDoom = {Name = "Fizz", Range = 1275, spellType = 2, Radius = 100, Duration = 1500},

	--FiddleSticks
	Crowstorm = {Name = "FiddleSticks", Range = 800, spellType = 3, Radius = 600, Duration = 1500},

	-- Galio
	GalioResoluteSmite = {Name = "Galio", Range = 900, spellType = 3, Radius = 200, Duration = 1500},
	GalioRighteousGust = {Name = "Galio", Range = 1000, spellType = 1, Radius = 200, Duration = 1500},

	-- Gragas
	GragasBarrelRoll = {Name = "Gragas", Range = 1100, spellType = 3, Radius = 320, Duration = 2500, ProjectileSpeed = 1, Delay = 300,  spammable = true},
	GragasExplosiveCask = {Name = "Gragas", Range = 1050, spellType = 3, Radius = 400, Duration = 1500},
	GragasBodySlam = {Name = "Gragas", Range = 650, spellType = 2, Radius = 60, Duration = 1500},

	-- Graves
	GravesChargeShot = {Name = "Graves", Range = 1000, spellType = 1, Radius = 110, Duration = 1000},
	GravesClusterShot = {Name = "Graves", Range = 750, spellType = 1, Radius = 50, Duration = 1000},
	GravesSmokeGrenade = {Name = "Graves", Range = 700, spellType = 3, Radius = 275, Duration = 1500},

	-- Heimerdinger
	CH1ConcussionGrenade = {Name = "Heimerdinger", Range = 950, spellType = 3, Radius = 225, Duration = 1500},

	-- Irelia
	IreliaTranscendentBlades = {Name = "Irelia", Range = 1200, spellType = 1, Radius = 80, Duration = 800},

	-- Janna
	HowlingGale = {Name = "Janna", Range = 1700, spellType = 1, Radius = 100, Duration = 2000},

	-- JarvanIV
	JarvanIVDemacianStandard = {Name = "JarvanIV", Range = 830, spellType = 3, Radius = 150, Duration = 2000},
	JarvanIVDragonStrike = {Name = "JarvanIV", Range = 770, spellType = 1, Radius = 70, Duration = 1000},
	JarvanIVCataclysm = {Name = "JarvanIV", Range = 650, spellType = 3, Radius = 300, Duration = 1500},

	-- Kartus
	LayWaste = {Name = "Karthus", Range = 875, spellType = 3, Radius = 150, Duration = 1000},

	--Kassadin
	RiftWalk = {Name = "Kassadin", Range = 700, spellType = 5, Radius = 150, Duration = 1000},

	-- Katarina
	ShadowStep = {Name = "Katarina", Range = 700, spellType = 3, Radius = 75, Duration = 1000},

	-- Kennen
	KennenShurikenThrow = {Name = "Kennen", Range = 1050, spellType = 1, Radius = 75, Duration = 1000, ProjectileSpeed = 1.7, Delay = 300,  spammable = true},
	KennenShurikenHurlMissile1 = {Name = "Kennen", Range = 1050, spellType = 1, Radius = 75, Duration = 1000, ProjectileSpeed = 1.7, Delay = 300,  spammable = true},

	-- KogMaw
	KogMawVoidOoze = {Name = "KogMaw", Range = 1115, spellType = 1, Radius = 100, Duration = 1000},
	KogMawVoidOozeMissile = {Name = "KogMaw", Range = 1115, spellType = 1, Radius = 100, Duration = 1000},
	KogMawLivingArtillery = {Name = "KogMaw", Range = 2200, spellType = 3, Radius = 200, Duration = 1500},

	-- Leblanc
	LeblancSoulShackle = {Name = "Leblanc", Range = 1000, spellType = 1, Radius = 80, Duration = 1000},
	LeblancSoulShackleM = {Name = "Leblanc", Range = 1000, spellType = 1, Radius = 80, Duration = 1000},
	LeblancSlide = {Name = "Leblanc", Range = 600, spellType = 3, Radius = 250, Duration = 1000},
	LeblancSlideM = {Name = "Leblanc", Range = 600, spellType = 3, Radius = 250, Duration = 1000},
	leblancslidereturn = {Name = "Leblanc", Range = 1000, spellType = 3, Radius = 50, Duration = 1000},
	leblancslidereturnm = {Name = "Leblanc", Range = 1000, spellType = 3, Radius = 50, Duration = 1000},

	-- LeeSin
	BlindMonkQOne = {Name = "LeeSin", Range = 975, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 1.8, Delay = 300,  spammable = true},
	BlindMonkRKick = {Name = "LeeSin", Range = 1200, spellType = 1, Radius = 100, Duration = 1000, spellKey = _R},

	-- Leona
	LeonaZenithBladeMissile = {Name = "Leona", Range = 700, spellType = 1, Radius = 80, Duration = 1000},

	-- Lulu
	LuluQ = {Name = "Lulu", Range = 975, spellType = 1, Radius = 50, Duration = 1000},

	-- Lux
	LuxLightBinding = {Name = "Lux", Range = 1300, spellType = 1, Radius = 80, Duration = 1000, ProjectileSpeed = 1.17, Delay = 300,  spammable = true},
	LucentSingularity = {Name = "Lux", Range = 1100, spellType = 3, Radius = 300, Duration = 2500, ProjectileSpeed = 1.24, Delay = 300,  spammable = true},
	LuxLightStrikeKugel = {Name = "Lux", Range = 1100, spellType = 3, Radius = 300, Duration = 2500, ProjectileSpeed = 1.24, Delay = 300,  spammable = true},
	FinalesFunkeln = {Name = "Lux", Range = 3000, spellType = 1, Radius = 80, Duration = 1500, ProjectileSpeed = 0, Delay = 500, spellKey = _R},
	LuxMaliceCannon = {Name = "Lux", Range = 3000, spellType = 1, Radius = 80, Duration = 1500, ProjectileSpeed = 0, Delay = 500, spellKey = _R},
		
	-- Malphite
	UFSlash = {Name = "Malphite", Range = 1000, spellType = 3, Radius = 325, Duration = 1000},

	-- Malzahar
	AlZaharCalloftheVoid = {Name = "Malzahar", Range = 900, spellType = 3, Radius = 100, Duration = 1000},
	AlZaharNullZone = {Name = "Malzahar", Range = 800, spellType = 3, Radius = 250, Duration = 1000},
		
	-- Maokai
	MaokaiTrunkLineMissile = {Name = "Maokai", Range = 600, spellType = 1, Radius = 100, Duration = 1000},
	MaokaiSapling2 = {Name = "Maokai", Range = 1100, spellType = 3, Radius = 350, Duration = 1000},

	-- MissFortune
	MissFortuneScattershot = {Name = "MissFortune", Range = 800, spellType = 3, Radius = 400, Duration = 1000},
		
	-- Morgana
	DarkBinding = {Name = "Morgana", Range = 1300, spellType = 1, Radius = 100, Duration = 1500, ProjectileSpeed = 1.2, Delay = 300,  spammable = true},
	DarkBindingMissile = {Name = "Morgana", Range = 1300, spellType = 1, Radius = 100, Duration = 1500, ProjectileSpeed = 1.2, Delay = 300,  spammable = true},
	TormentedSoil = {Name = "Morgana", Range = 900, spellType = 3, Radius = 350, Duration = 1500},

	-- Nautilus
	NautilusAnchorDrag = {Name = "Nautilus", Range = 950, spellType = 1, Radius = 80, Duration = 1500},

	-- Nidalee
	JavelinToss = {Name = "Nidalee", Range = 1500, spellType = 1, Radius = 80, Duration = 1500, ProjectileSpeed = 1.3, Delay = 300,  spammable = true},

	-- Nocturne
	NocturneDuskbringer = {Name = "Nocturne", Range = 1200, spellType = 1, Radius = 80, Duration = 1500},

	-- Olaf
	OlafAxeThrow = {Name = "Olaf", Range = 1000, spellType = 2, Radius = 100, Duration = 1500, ProjectileSpeed = 1.6, Delay = 300,  spammable = true},

	-- Orianna
	OrianaIzunaCommand = {Name = "Orianna", Range = 825, spellType = 3, Radius = 150, Duration = 1500},

	-- Renekton
	RenektonSliceAndDice = {Name = "Renekton", Range = 450, spellType = 1, Radius = 80, Duration = 1000},
	renektondice = {Name = "Renekton", Range = 450, spellType = 1, Radius = 80, Duration = 1000},

	-- Rumble
	RumbleGrenadeMissile = {Name = "Rumble", Range = 1000, spellType = 1, Radius = 100, Duration = 1500},

	-- Sejuani
	SejuaniGlacialPrison = {Name = "Sejuani", Range = 1150, spellType = 1, Radius = 80, Duration = 1000},

	-- Sivir
	SpiralBlade = {Name = "Sivir", Range = 1000, spellType = 1, Radius = 100, Duration = 1000, ProjectileSpeed = 1.33, Delay = 300,  spammable = true},

	-- Singed
	MegaAdhesive = {Name = "Singed", Range = 1000, spellType = 3, Radius = 350, Duration = 1500},

	-- Shaco
	Deceive = {Name = "Shaco", Range = 500, spellType = 5, Radius = 100, Duration = 3500},

	-- Shen
	ShenShadowDash = {Name = "Shen", Range = 600, spellType = 2, Radius = 80, Duration = 1000},

	-- Shyvana
	ShyvanaTransformLeap = {Name = "Shyvana", Range = 925, spellType = 1, Radius = 80, Duration = 1500},
	ShyvanaFireballMissile = {Name = "Shyvana", Range = 1000, spellType = 1, Radius = 80, Duration = 1000},

	-- Skarner
	SkarnerFracture = {Name = "Skarner", Range = 600, spellType = 1, Radius = 100, Duration = 1000},

	-- Sona
	SonaCrescendo = {Name = "Sona", Range = 1000, spellType = 1, Radius = 150, Duration = 1000},

	-- Swain
	--Nevermove
	SwainShadowGrasp = {Name = "Swain", Range = 900, spellType = 3, Radius = 265, Duration = 1500},

	-- Tristana
	RocketJump = {Name = "Tristana", Range = 900, spellType = 3, Radius = 200, Duration = 1000},

	-- Tryndamere
	MockingShout = {Name = "Tryndamere", Range = 850, spellType = 6, Radius = 100, Duration = 1000},
	Slash = {Name = "Tryndamere", Range = 600, spellType = 2, Radius = 100, Duration = 1000},

	-- TwistedFate
	WildCards = {Name = "TwistedFate", Range = 1450, spellType = 1, Radius = 80, Duration = 1000},

	-- Urgot
	UrgotHeatseekingLineMissile = {Name = "Urgot", Range = 1000, spellType = 1, Radius = 80, Duration = 800},
	UrgotPlasmaGrenade = {Name = "Urgot", Range = 950, spellType = 3, Radius = 300, Duration = 1000},

	-- Varus
	VarusR = {Name = "Varus", Range = 1075, spellType = 1, Radius = 80, Duration = 1500},
	VarusQ = {Name = "Varus", Range = 1475, spellType = 1, Radius = 50, Duration = 1000},

	-- Vayne
	VayneTumble = {Name = "Vayne", Range = 250, spellType = 5, Radius = 100, Duration = 1000},

	-- Veigar
	VeigarDarkMatter = {Name = "Veigar", Range = 900, spellType = 3, Radius = 225, Duration = 2000},

	-- Viktor
	ViktorDeathRay = {Name = "Viktor", Range = 700, spellType = 1, Radius = 80, Duration = 2000},

	-- Xerath
	xeratharcanopulsedamage = {Name = "Xerath", Range = 900, spellType = 1, Radius = 80, Duration = 1000},
	xeratharcanopulsedamageextended = {Name = "Xerath", Range = 1300, spellType = 1, Radius = 80, Duration = 1000},
	xeratharcanebarragewrapper = {Name = "Xerath", Range = 900, spellType = 3, Radius = 250, Duration = 1000},
	xeratharcanebarragewrapperext = {Name = "Xerath", Range = 1300, spellType = 3, Radius = 250, Duration = 1000},

	-- Ziggs
	ZiggsQ = {Name = "Ziggs", Range = 850, spellType = 3, Radius = 160, Duration = 1000, spellKey = _Q},
	ZiggsW = {Name = "Ziggs", Range = 1000, spellType = 3, Radius = 225, Duration = 1000, spellKey = _W},
	ZiggsE = {Name = "Ziggs", Range = 900, spellType = 3, Radius = 250, Duration = 1000, spellKey = _E},
	ZiggsR = {Name = "Ziggs", Range = 5300, spellType = 3, Radius = 550, Duration = 3000, spellKey = _R},
	
	-- Zyra
	ZyraQFissure = {Name = "Zyra", Range = 825, spellType = 3, Radius = 275, Duration = 1500, spellKey = _Q},
	ZyraGraspingRoots = {Name = "Zyra", Range = 1100, spellType = 1, Radius = 90, Duration = 1500, spellKey = _E},
}

	local spellArray = {}
	local spellArrayCount = 0
	local moveTo = {}
	
	local colors = {0xffffffff, 0xff00ffff, 0xffff0000, 0xff00ff00, 0xffffff00}
	
	for i,enemy in pairs(GetEnemyHeroes()) do
		if enemy ~= nil then
			for i, spell in pairs(SpellData) do
				if string.lower(spell.Name) == string.lower(GetObjectName(enemy)) or (spell.Name == "") then
				spellArrayCount = spellArrayCount + 1
				spellArray[i] = SpellData[i]
				spellArray[i].color = colors[spellArray[i].spellType]
				spellArray[i].shot = false
				spellArray[i].lastshot = 0
				spellArray[i].skillshotpoint = {}
				end
			end
	        end
	end
	
        SpellData = nil
	if spellArrayCount > 0 then
 
	local sEvade = MenuConfig("Slow Evade", "SlowEvade")
	sEvade:Boolean("drawSkillShot", "Draw Skills", true)
	sEvade:KeyBinding("dodgeSkillShot", "Dodge Skills", string.byte("K"), true)
	sEvade:Slider("dodgeSpace", "Additional Dodge Distance", 150, 50, 500, 0)
			
	detectedSkillshots = {}
			
	function calculateLinepass(pos1, pos2, maxDist)
		local spellVector = Vector(pos2) - pos1
		spellVector = spellVector / spellVector:len() * maxDist
		return {Vector(pos1), spellVector + pos1}
	end
		
	function calculateLinepoint(pos1, pos2, maxDist)
		local spellVector = Vector(pos2) - pos1
		if spellVector:len() > maxDist then
		spellVector = spellVector / spellVector:len() * maxDist
		end
		return {Vector(pos1), spellVector + pos1}
	end
	
	function calculateLineaoe(pos1, pos2, maxDist)
		return {Vector(pos2)}
	end
			
	function calculateLineaoe2(pos1, pos2, maxDist)
		local spellVector = Vector(pos2) - pos1
		if spellVector:len() > maxDist then
		spellVector = spellVector / spellVector:len() * maxDist
		end
		return {Vector(pos1) + spellVector}
	end

	function dodgeAOE(pos1, pos2, radius)
		local distancePos2 = GetDistance(pos2) 
		if distancePos2 < radius then
		movex = pos2.x + ((radius+50)/distancePos2)*(myHeroPos().x-pos2.x)
		movez = pos2.z + ((radius+50)/distancePos2)*(myHeroPos().z-pos2.z)
		MoveToXYZ(movex,0,movez)
		end
	end

	function dodgeLinePoint(pos1, pos2, radius)
		local distancePos1 = GetDistance(pos1)
		local distancePos2 = GetDistance(pos2)
		local distancePos1Pos2 = GetDistance(pos1, pos2)
		local perpendicular = (math.floor((math.abs((pos2.x-pos1.x)*(pos1.z-myHeroPos().z)-(pos1.x-myHeroPos().x)*(pos2.z-pos1.z)))/distancePos1Pos2))
		if perpendicular < radius and distancePos2 < distancePos1Pos2 and distancePos1 < distancePos1Pos2 then
		local k = ((pos2.z-pos1.z)*(myHeroPos().x-pos1.x) - (pos2.x-pos1.x)*(myHeroPos().z-pos1.z)) / distancePos1Pos2
		local pos3 = {}
		pos3.x = myHeroPos().x - k * (pos2.z-pos1.z)
		pos3.z = myHeroPos().z + k * (pos2.x-pos1.x)
		local distancePos3 = GetDistance(pos3)
		movex = pos3.x + ((radius+50)/distancePos3)*(myHeroPos().x-pos3.x)
		movez = pos3.z + ((radius+50)/distancePos3)*(myHeroPos().z-pos3.z)
		MoveToXYZ(movex,0,movez)
	        end
	end

	function dodgeLinePass(pos1, pos2, radius, maxDist)
		local distancePos1 = GetDistance(pos1)
		local distancePos1Pos2 = GetDistance(pos1, pos2)
		local pos3 = {}
		pos3.x = pos1.x + (maxDist)/distancePos1Pos2*(pos2.x-pos1.x)
		pos3.z = pos1.z + (maxDist)/distancePos1Pos2*(pos2.z-pos1.z)
		local distancePos3 = GetDistance(pos3)
		local distancePos1Pos3 = GetDistance(pos1, pos3)
		local perpendicular = (math.floor((math.abs((pos3.x-pos1.x)*(pos1.z-myHeroPos().z)-(pos1.x-myHeroPos().x)*(pos3.z-pos1.z)))/distancePos1Pos3))
		if perpendicular < radius and distancePos3 < distancePos1Pos3 and distancePos1 < distancePos1Pos3 then
		local k = ((pos3.z-pos1.z)*(myHeroPos().x-pos1.x) - (pos3.x-pos1.x)*(myHeroPos().z-pos1.z)) / ((pos3.z-pos1.z)^2 + (pos3.x-pos1.x)^2)
		local pos4 = {}
		pos4.x = myHeroPos().x - k * (pos3.z-pos1.z)
		pos4.z = myHeroPos().z + k * (pos3.x-pos1.x)
		local distancePos4 = GetDistance(pos4)
		movex = pos4.x + ((radius+50)/distancePos4)*(myHeroPos().x-pos4.x)
		movez = pos4.z + ((radius+50)/distancePos4)*(myHeroPos().z-pos4.z)
		MoveToXYZ(movex,0,movez)
		end
	end
		
	OnProcessSpellComplete(function(unit,spell)
		if IsDead(unit) == true then return end
		if unit ~= nil and GetTeam(unit) ~= GetTeam(GetMyHero()) and spellArray[spell.name] ~= nil and GetDistance(unit) < spellArray[spell.name].Range + spellArray[spell.name].Radius + 500 then
			local startPosition = Vector(unit)
			local endPosition = Vector(spell.endPos)
			local Delay = spellArray[spell.name].spellDelay or 0
			local Range = spellArray[spell.name].Range or 0
			local projectileSpeed = spellArray[spell.name].projectileSpeed or 1
			local Duration = Range/projectileSpeed*1000
			local directionVector = (endPosition - startPosition):normalized()
			endPosition = startPosition + directionVector * Range
			table.insert(detectedSkillshots, {startPosition = startPosition, endPosition = endPosition, directionVector = directionVector, startTick = GetTickCount() + Delay, endTick = GetTickCount() + Delay + Duration, skillshot = skillshot})
					
			spellArray[spell.name].shot = true
			spellArray[spell.name].lastshot = GetTickCount()
			if spellArray[spell.name].spellType == 1 then
			        spellArray[spell.name].skillshotpoint = calculateLinepass(object.pos, spell.endPos, spellArray[spell.name].Range)
				if sEvade.dodgeSkillShot:Value() then
				dodgeLinePass(spell.startPos, spell.endPos, spellArray[spell.name].Radius, spellArray[spell.name].Range)
				end
			elseif spellArray[spell.name].spellType == 2 then
				spellArray[spell.name].skillshotpoint = calculateLinepoint(spell.startPos, spell.endPos, spellArray[spell.name].Range)
				if sEvade.dodgeSkillShot:Value() then
				dodgeLinePoint(spell.startPos, spell.endPos, spellArray[spell.name].Radius)
				end
			elseif spellArray[spell.name].spellType == 3 then
				spellArray[spell.name].skillshotpoint = calculateLineaoe(spell.startPos, spell.endPos, spellArray[spell.name].Range)
				if sEvade.dodgeSkillShot:Value() then
				dodgeAOE(spell.startPos, spell.endPos, spellArray[spell.name].Radius)
				end
			elseif spellArray[spell.name].spellType == 4 then
				spellArray[spell.name].skillshotpoint = calculateLinepass(spell.startPos, spell.endPos, 5000)
				if sEvade.dodgeSkillShot:Value() then
				dodgeLinePass(spell.startPos, spell.endPos, spellArray[spell.name].Radius, spellArray[spell.name].Range)
				end
			elseif spellArray[spell.name].spellType == 5 then
				spellArray[spell.name].skillshotpoint = calculateLineaoe2(spell.startPos, spell.endPos, spellArray[spell.name].Range)
				if sEvade.dodgeSkillShot:Value() then
				dodgeAOE(spell.startPos, spell.endPos, spellArray[spell.name].Radius)
				end
			end
		end
	end)
			
	OnDraw(function(myHero)
		if sEvade.drawSkillShot:Value() then
			for i, spell in pairs(spellArray) do
				if spell.shot and #spell.skillshotpoint > 0 then
					if #spell.skillshotpoint == 1 then
					DrawCircle(spell.skillshotpoint[1].x, spell.skillshotpoint[1].y, spell.skillshotpoint[1].z, spell.Radius, 0, spell.color)
					else
					DrawLine(spell.skillshotpoint[1], spell.skillshotpoint[2], spell.Radius, spell.color, 1000)
					end
					if #spell.skillshotpoint == 3 then
					DrawCircle(spell.skillshotpoint[3].x, spell.skillshotpoint[3].y, spell.skillshotpoint[3].z, spell.Radius,1,0, spell.color)
					end
				end
			end
		end
	end)
			
        OnTick(function(myHero)
		local tick = GetTickCount()
			 
		for i, detectedSkillshot in pairs(detectedSkillshots) do
			if detectedSkillshot.endTick <= tick then
				table.remove(detectedSkillshots, i)
				i = i-1
				end
	                end
	        
			for i, spell in pairs(spellArray) do
				if spell.shot and spell.lastshot < tick - spell.Duration then
				spell.shot = false
				spell.skillshotpoint = {}
				moveTo = {}
				end
			end
		end)
	
	end
